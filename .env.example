# -------------------
# Telegram
# -------------------
TELEGRAM_BOT_TOKEN=example

# Access control (optional)
# If empty - bot is publicly accessible
TELEGRAM_ALLOWED_USER_IDS=[1,2]
TELEGRAM_ALLOWED_GROUP_IDS=[-1,-2]

# -------------------
# Storage backend
# -------------------
STORAGE_BACKEND=google_drive

# -------------------
# Google Drive storage
# Either set STORAGE_GOOGLE_DRIVE_FOLDER_IDS or STORAGE_GOOGLE_DRIVE_ALL_ACCESSIBLE=true
# -------------------
STORAGE_GOOGLE_DRIVE_SERVICE_ACCOUNT_JSON=/run/secrets/google_sa
STORAGE_GOOGLE_DRIVE_FOLDER_IDS=["example1","example2"]
STORAGE_GOOGLE_DRIVE_ALL_ACCESSIBLE=false

# -------------------
# Google Drive limits / backoff
# -------------------
STORAGE_GOOGLE_DRIVE_MAX_ROWS_PER_SHEET=10000
STORAGE_GOOGLE_DRIVE_BACKOFF_RETRIES=8
STORAGE_GOOGLE_DRIVE_BACKOFF_BASE_DELAY_SECONDS=1.0
STORAGE_GOOGLE_DRIVE_BACKOFF_MAX_DELAY_SECONDS=30.0

# Google API rate limit (token bucket)
# Tune for your account/project limits
STORAGE_GOOGLE_DRIVE_API_RPS=8
STORAGE_GOOGLE_DRIVE_API_BURST=16

# -------------------
# File type feature toggles
# All true by default
# -------------------
FILE_TYPE_GDOCS_ENABLED=true
FILE_TYPE_GSHEETS_ENABLED=true
FILE_TYPE_GSLIDES_ENABLED=true
FILE_TYPE_TEXT_BASED_ENABLED=true
FILE_TYPE_PDF_ENABLED=true
FILE_TYPE_DOCX_ENABLED=true
FILE_TYPE_DOC_ENABLED=true
FILE_TYPE_XLSX_ENABLED=true
FILE_TYPE_XLS_ENABLED=true
FILE_TYPE_PPTX_ENABLED=true
FILE_TYPE_PPT_ENABLED=true

# -------------------
# Extractor limits
# -------------------
TEXT_MAX_FILE_SIZE_MB=10
PDF_MAX_PAGES=100
PDF_MAX_FILE_SIZE_MB=50
# pypdf|pdfplumber (both engines are installed; choose preferred one)
PDF_EXTRACTION_ENGINE=pypdf
OFFICE_MAX_FILE_SIZE_MB=50
EXCEL_MAX_SHEETS=50

# -------------------
# Qdrant
# -------------------
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=docs

# -------------------
# Embeddings
# -------------------
EMBED_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# Optional: token for downloading HuggingFace-hosted models.
HF_TOKEN=example

# -------------------
# RAG
# -------------------
TOP_K=6
MAX_CONTEXT_CHARS=6000

# -------------------
# Optional LLM (OpenAI-compatible)
# If LLM_API_KEY is empty -> LLM disabled (bot returns only fragments)
# -------------------
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=example
LLM_MODEL=gpt-4o-mini
LLM_SYSTEM_PROMPT=You are an assistant for a private internal knowledge base. You must answer questions strictly and exclusively based on the provided context. If the context does not explicitly contain the required information, state that the information is not available. Never speculate, infer, or guess beyond the given text. Prefer accuracy over completeness.

# -------------------
# Ingest
# -------------------
# once|loop
INGEST_MODE=loop
INGEST_POLL_SECONDS=600

# parallelism
INGEST_WORKERS=6

# progress logging
INGEST_PROGRESS_FILES=25
INGEST_PROGRESS_SECONDS=30

# graceful shutdown
INGEST_SHUTDOWN_GRACE_SECONDS=20

# -------------------
# Health
# -------------------
HEALTH_HOST=localhost
BOT_HEALTH_PORT=8080
INGEST_HEALTH_PORT=8081

# -------------------
# Logging
# -------------------
LOG_LEVEL=INFO
LOG_PLAIN_TEXT=false
